<!DOCTYPE html>
<html>
    <head>
        <title>Log.d Documentation Page</title>
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/normalize.css@8.0.1/normalize.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@9/dist/mermaid.esm.min.mjs"></script>
    </head>
    <body>
        <div class="container">
            <header class="row">
                <h1>About Project Log.d</h1>
            </header>
            <section class="row">
                <nav class="col col-4">
                    <ul class="list-unstyled">
                        <li><a href="/" class="btn btn-secondary w-75">About Project Log.d</a></li>
                        <li><a href="/logd/download/logd.zip" target="_blank" class="btn btn-success w-75">Download</a></li>
                        <li><h3>Documentation</h3></li>
                        <li><a href="/docs/project-architecture" class="btn btn-primary w-75">Project Architecture</a></li>
                        <li><a href="/docs/data-transfer-mechanism" class="btn btn-primary w-75">Data Transfer Mechanism</a></li>
                        <li><a href="/docs/schema" class="btn btn-primary w-75">Schema</a></li>
                        <li><a href="/docs/notes-on-schema" class="btn btn-primary w-75">Notes on Schema</a></li>
                        <li><a href="/docs/api" class="btn btn-primary w-75">API</a></li>
                        <li><a href="https://github.com/Frostzeichen/project-log-d" class="btn btn-primary w-75">GitHub Repository</a></li>
                        <li><a href="http://localhost:3001" class="btn btn-dark w-75">Project Dashboard Server</a></li>
                    </ul>
                </nav>
                <main class="col">
                    <h2>Data Transfer Mechanism</h2>
                    <p>For the Log.d demo, the server passes data from the client to the documentation server then to the project dashboard server.</p>
                    <pre class="mermaid">
                        sequenceDiagram
                            Client -->> Client : records user data
                            Client -->> Client : page closes or user moves pages
                            Client ->> Documentation Server : sends data (POST)
                            Documentation Server -->> Documentation Server : adds server-specific data
                            Documentation Server ->> Project Dashboard Server : passes data
                    </pre>
                    <p>The mechanism for passing data from the client to the documentation server works after the page closes or when the user moves the page. It records keyboard presses and mouse movement into a JSON file.</p>
                    <p>Afterward, the documentation server which serves this webpage adds in some server-specific information, such as the current server's country. This data then gets sent to the project dashboard server which then displays metrics based on user data. It also saves this data into the database.</p>
                </main>
            </section>
        </div>
        <script src="/logd.js">
            // Returns error: Uncaught (in promise) TypeError: NetworkError when attempting to fetch resource.
            // Probable fix: Deploy this with that CDN thing. I think that should work.
        </script>
    </body>
</html>